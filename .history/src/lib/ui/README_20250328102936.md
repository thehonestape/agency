# UI Component Library for Tailwind CSS v4

This library provides a comprehensive, standardized approach for UI components to properly leverage Tailwind CSS v4's CSS-first configuration in our application.

## Core Principles

1. **Theme Variables**: All components use CSS variables from our theme system
2. **Tailwind v4 Integration**: Components are built to work with Tailwind v4's CSS-first approach
3. **Dark Mode Support**: Components automatically support both light and dark modes
4. **Consistent API**: All components follow a consistent, predictable API pattern
5. **Type Safety**: Full TypeScript support for all components and utilities

## Getting Started

Import the necessary utilities:

```tsx
import { cn, useUITheme, themeVariants } from '@/lib/ui';
```

## Available Tools & Utilities

### 1. Theme Utilities (`theme-utils.ts`)

- `cn()`: Utility for merging class names with Tailwind's class merging
- `getCssVar()`: Get CSS variable by name
- `getAllThemeVars()`: Get all theme CSS variables
- `getThemeMode()`: Get current theme mode ('light' or 'dark')
- `getVariantClasses()`: Get background and text classes for a variant
- `createThemeStyle()`: Create inline style object with CSS variables

### 2. Theme Hook (`useUITheme.ts`)

A React hook that provides access to theme variables and functions:

```tsx
const theme = useUITheme();

// Available properties and methods
theme.mode               // Current theme mode ('light' or 'dark')
theme.cssVars            // All CSS variables from the theme
theme.getVar('primary')  // Get specific CSS variable
theme.isDarkMode()       // Check if dark mode is active
theme.toggleMode()       // Toggle between light and dark
theme.setMode('dark')    // Set theme mode directly
theme.setPrimaryColor('#3b82f6')  // Change primary color
```

### 3. Theme Variants (`component-factory.ts`)

Pre-defined variant styles for consistent component styling:

```tsx
import { cva } from 'class-variance-authority';
import { themeVariants } from '@/lib/ui';

const buttonVariants = cva('base-button-styles', {
  variants: {
    intent: themeVariants.colorVariants,
    size: themeVariants.sizeVariants,
  },
  defaultVariants: {
    intent: 'primary',
    size: 'md',
  }
});
```

## Example Component

See `component-template.tsx` for a complete example of a component that follows all best practices.

## How to Create a New Component

1. **Start with the Example**: Use `component-template.tsx` as a starting point
2. **Define Variants**: Use `cva` with theme variables for your variants
3. **Use Theme Hooks**: Leverage `useUITheme()` for dynamic theme interactions
4. **Implement Dark Mode**: Ensure it works in both light and dark modes
5. **Document Props**: Add proper TypeScript interfaces and documentation

## CSS Utilities

Our expanded utilities in `globals.css` provide classes for all theme variables:

- Background colors: `bg-background`, `bg-primary`, etc.
- Text colors: `text-foreground`, `text-primary-foreground`, etc.
- Border colors: `border-border`, `border-primary`, etc.
- Border radius: `rounded-theme`, `rounded-theme-sm`, etc.

## Best Practices

1. **Always use theme variables**: Never hardcode colors
2. **Group related styles**: Keep related styles together in your className strings
3. **Follow naming conventions**: Use consistent naming across components
4. **Test in both modes**: Always test in both light and dark mode
5. **Responsive design**: Ensure components work across all breakpoints

## Troubleshooting

### Unknown Utility Class

If you see a "Cannot apply unknown utility class" error, make sure the utility is defined in `globals.css`:

```css
@utilities {
  .your-missing-class {
    /* CSS properties */
  }
}
```

### Dark Mode Not Working

If dark mode isn't working, check that you're using theme variables rather than hardcoded colors.

## Resources

- [Tailwind v4 Documentation](https://tailwindcss.com/docs/installation)
- [Tailwind v4 Migration Guide](../../docs/tailwind/v4-migration.md)
- [Project Theming Documentation](../../THEMING.md) 